/*! bh-lay.com 2014-06-07 */
!function(a){function b(a,b){var c=i.createElement("script");c.type="text/javascript",c.charset="UTF-8",c.onload=function(){b&&b()},c.src=a,j.appendChild(c)}function c(a,b){var c=i.createElement("link");c.type="text/css",c.rel="stylesheet",c.onload=function(){b&&b()},c.href=a,j.appendChild(c)}function d(a,b){$.ajax({url:a,success:function(a){b&&b(a)}})}function e(a,e){var f=a.match(/\..+$/)[0];".css"==f?c(a,function(){e&&e(null)}):".js"==f?b(a,function(){e&&e(null)}):d(a,function(a){e&&e(null,a)})}function f(a,b){switch(h[a]=h[a]||"waiting",h[a]){case"done":b&&b(null);break;case"loading":var c=setInterval(function(){(h[a]="done")&&(clearInterval(c),b&&b(null))},100);break;case"waiting":h[a]="loading",e(a,function(c,d){h[a]="done",d?b&&b(c):b&&b()})}}function g(a){this.CONF=a||{}}var h={},i=document,j=i.createElement("div"),k=i.getElementsByTagName("body")[0];j.setAttribute("data-module","loader"),j.style.display="none",k.appendChild(j);var l=function(a,b){var a=a?a.split(/\?/)[0]:"";if(a.match(/\..+$/))b&&b(null,a);else{var c=a,d=this.CONF[c]||null;d?b&&b(null,d):b&&b("could not find module please check mod spell")}};g.prototype.load=function(a,b){if(a&&!(a.length<1))for(var b=b||null,c=a.split(/\,/),d=c.length,e=0,g=0,h=0;d>h;h++)l.call(this,c[h],function(a,c){f(c,function(a,c){a&&g++,e++,e==d&&b&&b(c)})})},g.prototype.image=function(a,b){var b=b||{},c=b.loadFn||null,d=b.sizeFn||null,e=b.errorFn||null,f=new Image;if(e&&(f.onerror=function(){e()}),c&&(f.onload=function(){c(f.width,f.height)}),d)var g=setInterval(function(){f.width>1&&(clearInterval(g),d(f.width,f.height))},2);f.src=a},a.loader=a.loader||g}(window);