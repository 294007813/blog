/*! bh-lay.com 2014-06-07 */
define(function(a){function b(a,b){var c=a.replace(/\{(\w*)}/g,function(){return b[arguments[1]]||""});return c}function c(a,b){a||b&&b("missing arguments"),$.ajax({url:"/ajax/user/"+a,type:"GET",success:function(a){200!=a.code?b&&b("data error"):b&&b(null,a.detail)}})}function d(a,d){if(!d){var f=b(e,{});return a.html(f),void admin.formToAjax(a,{onSubmit:function(){UI.prompt("正在提交用户创建！")},onResponse:function(){UI.prompt("用户创建完毕"),admin.push("/admin/"),admin.refresh()}})}c(d,function(c,d){if(c)return void a.html("数据异常！");var f=b(e,d);a.html(f),admin.formToAjax(a,{onSubmit:function(){UI.prompt("正在提交用户修改！")},onResponse:function(){UI.prompt("用户修改完毕"),admin.push("/admin/"),admin.refresh()}})})}a("/frontEnd/publish/publish.css");var e=['<div class="pub_share">','<form action="/ajax/user" method="post" target="_self">','<div class="pub_row_input">','<input type="text" placeholder="用户名" name="username" value="{username}"/>',"</div>",'<div class="pub_row_input">','<input type="text" placeholder="邮箱" name="email" value="{email}"/>',"</div>",'<div class="pub_row_input">','<input type="text" placeholder="密码" name="password" />',"</div>",'<div class="pub_row_input">','<input type="text" placeholder="用户组" name="user_group" value="{user_group}"/>',"</div>","<div>",'<input type="hidden" name="id" value="{id}" />','<input type="hidden" name="category" value="share" />','<button type="submit" class="btn btn-primary">提交</button>',"</div>","</form>","</div>"].join("");return d});