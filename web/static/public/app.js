/*! bh-lay.com 2014-06-17 */
$(".sourceCode").remove(),$("body").append('<a href="https:github.com/bh-lay/blog" target="_blank" class="github-link"></a>'),window.L=window.L||{},seajs.use("/frontEnd/util/lofox_1.0.js",function(){function a(){var a=c.find(".contlayer_body"),b=$('<div class="contlayer_body"><div class="contlayer_loading">正在加载</div></div>');return c.append(b),0!=a.length&&(c.css("height",c.height()),a.css({position:"absolute",top:0,left:0}),b.css({position:"absolute",top:0,left:"200%"}),a.animate({left:"-100%"},400).fadeOut(100,function(){$(window).scrollTop(0),a.remove(),b.animate({left:0},200,function(){c.css("height","auto"),b.css("position","relative")})})),b}var b=new util.lofox,c=$(".contlayer");b.set("/",function(){this.title("小剧客栈_剧中人的个人空间 网页设计师博客 互动设计学习者"),L.nav.setCur("/");var b=a();seajs.use("/frontEnd/public/js/index.js",function(a){a(b)})}),b.set("/blog",function(){this.title("我的博客_小剧客栈"),L.nav.setCur("blog");var b=a();seajs.use("/frontEnd/public/js/blogList.js",function(a){a(b)})}),b.set("/blog/{id}",function(b){this.title("我的博客_小剧客栈"),L.nav.setCur("blog");var c=a();seajs.use("/frontEnd/public/js/blogDetail.js",function(a){a(c,b.id)})}),b.set("/share",function(){this.title("我的分享_小剧客栈"),L.nav.setCur("share");var b=a();seajs.use("/frontEnd/public/js/shareList.js",function(a){a(b)})}),b.set("/share/{id}",function(b){this.title("我的分享_小剧客栈"),L.nav.setCur("share");var c=a();seajs.use("/frontEnd/public/js/shareDetail.js",function(a){a(c,b.id)})}),b.set("/opus",function(){this.title("作品_小剧客栈"),L.nav.setCur("opus");var b=a();seajs.use("/frontEnd/public/js/opusList.js",function(a){a(b)})}),b.set("/opus/{id}",function(b){this.title("作品_小剧客栈"),L.nav.setCur("opus");var c=a();seajs.use("/frontEnd/public/js/opusDetail.js",function(a){a(c,b.id)})}),b.set("/labs",function(){this.title("实验室_小剧客栈"),L.nav.setCur("labs");var b=a();seajs.use("/frontEnd/public/js/labsList.js",function(a){a(b)})}),b.on("change",function(){delete uyan_c_g,delete uyan_loaded,delete uyan_s_g,delete uyan_style_loaded,delete uyan_style_loaded_over,window.uyan_config=window.uyan_config||{du:"bh-lay.com"}}),$("body").on("click",'a[lofox="true"]',function(){var a=$(this).attr("href");return setTimeout(function(){b.push(a),b.refresh()},20),!1}),L.gallery(),L.nav()}),function(a){var b=function(){$(".nav_tool a").click(function(){$(".navLayer").hasClass("nav_slidedown")?$(".navLayer").removeClass("nav_slidedown"):$(".navLayer").addClass("nav_slidedown")}),$(".nav_mainList").on("click",function(){$(".navLayer").hasClass("nav_slidedown")&&$(".navLayer").removeClass("nav_slidedown")})},c=function(a){"/"==a&&(a="index"),$(".navLayer .nav li").removeClass("cur"),$(".navLayer .nav li[page="+a+"]").addClass("cur")};a.nav=b,a.nav.setCur=c}(L),function(a){var b=["<style>",".myCard{position:fixed;width:260px;height:300px;background:#fff;top:60px;left:20%;z-index:100;border-radius:4px;overflow:hidden;box-shadow:0px 0px 100px #000;}",".myCard_header{height:80px;background:#48f;}",".myCard_info{position:absolute;top:35px;left:20px;width:100%;}",".myCard_cover{width:60px;height:60px;margin-right:10px;float:left;background:#333;}",".myCard_cpt{width:150px;float:left;text-shadow:1px 1px 8px #000;}",".myCard_cpt h3{line-height:20px;font-size:16px;color:#fff;font-weight:bold;}",".myCard_cpt p{line-height:20px;font-size:14px;color:#fff;}",'</style><div class="myCard">','<div class="myCard_header">',"</div>",'<div class="myCard_info">','<div class="myCard_cover">',"</div>",'<div class="myCard_cpt">',"<h3>剧中人</h3>","<p>前端工程师</p>","</div>","</div>","</div>"].join(""),c=function(){$("body").append(b)};a.myCard=function(){return new c}}(L),function(a){function b(a,b){var b=b||{},c=b.loadFn||null,d=b.sizeFn||null,e=b.errorFn||null,f=new Image;if(e&&(f.onerror=function(){e()}),c&&(f.onload=function(){c(f.width,f.height)}),d)var g=setInterval(function(){f.width>1&&(clearInterval(g),d(f.width,f.height))},2);f.src=a}function c(a,c){function d(a){var b=a,c=b.attr("data").split("-"),d=c[0],e=c[1],f=$(window).width(),g=$(window).height();b.css(f/g>d/e?{width:f,height:f*e/d,marginTop:-(f*e/d-g)/2,marginLeft:0}:{width:g*d/e,height:g,marginTop:0,marginLeft:-(g*d/e-f)/2})}function f(a,h,i){b(i[a].src,{loadFn:function(){var b=arguments[0],j=arguments[1];c.fadeOut(1e3,function(){h.attr({src:i[a].src,alt:i[a].alt||"",data:b+"-"+j}),d(h),c.fadeIn(800),setTimeout(function(){a++,a==g&&(a=0),f(a,h,i)},e.delay)})}})}var a=a,c=c,g=a.length,h=$("<img/>").hide();c.html(h),f(0,h,a),$(window).on("resize",function(){d(h)})}function d(a,c){function d(f){var f=f,i=a[f].src;b(i,{loadFn:function(){var a=$('<div class="galBj_mask"></div>');a.css({backgroundImage:"url("+i+")"}),c.html(a),g||a.hide().fadeIn(1e3),setTimeout(function(){c.css({backgroundImage:"url("+i+")"}),a.hide(),f++,f==h&&(f=0),d(f)},e.delay)}})}var a=a,g=!1,c=c,h=a.length;c.html(""),d(0),f("webkitAnimation")&&(g=!0)}var e={delay:5e4,coverData:[{src:"/frontEnd/public/images/gallery/bamboo.jpg",alt:"竹子"},{src:"/frontEnd/public/images/gallery/coast.jpg",alt:"江边"}]},f=function(){var a=document.createElement("div"),b="Khtml Ms O Moz Webkit".split(" "),c=b.length;return function(d){if(d in a.style)return!0;d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()});for(var e=0;c>e&&!(b[c]+d in a.style);e++);return!1}}();a.gallery=function(){var a=$(".gallayer .galBj"),b=e.coverData;f("backgroundSize")?d(b,a):c(b,a)}}(L);