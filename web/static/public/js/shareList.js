/*! bh-lay.com 2014-06-17 */
define(function(a){a("/frontEnd/lib/juicer.js"),a("/frontEnd/public/css/share.css");var b=10,c=0,d=0,e=function(a){var b=$(a.html),c=a.dom;c.html(b)},f=function(a){$.ajax({type:"GET",url:"/ajax/share",data:{act:"get_list",skip:c,limit:b},success:function(e){d=e.count,c+=b;var f=e.list;a&&a(f)}})},g=function(){$(".shareList").on("mouseenter","a",function(){$(this).find("strong").stop().animate({bottom:0},200)}).on("mouseleave","a",function(){$(this).find("strong").stop().animate({bottom:-100},200)})};return function(a){var b=['{@each list as it,index}<li><a href="/share/${it.id}" title="${it.title}" lofox="true" target="_self" >','<img src="${it.cover}" alt="${it.title}" />',"<strong>${it.title}</strong>","</a></li>{@/each}"].join("");c=0,f(function(f){a.html('<div class="l_row"><div class="l_col_12"><ul class="shareList"></ul></div></div>');var h=juicer(b,{list:f});e({end:c>=d?!0:!1,html:h,dom:a.find(".shareList")}),g()})}});