/*! bh-lay.com 2014-06-07 */
window.admin=window.admin||{},window.admin.render=window.admin.render||{},function(a){function b(a){var b=c.replace("{username}",admin_dataBase.username);a.html(b)}var c=['<div class="col-md-8">','<div class="jumbotron">',"<h1>{username}你还有脸回来！</h1>","<p>你有多久没有更新博文了？</p>","<p>博客还想不想要了？</p>","<p>人生就此荒废你开心么？</p>",'<p><a class="btn btn-primary btn-lg" href="/" target="_blank" role="button">去看看博客</a></p>',"</div>","</div>",'<div class="col-md-4">','<div class="custom-mb20">','<a class="btn btn-default btn-block custom-lofox" href="/admin/gallery">图库</a>',"</div>",'<div class="custom-mb20">','<div class="btn-group btn-group-sm btn-group-justified">','<a class="btn btn-default custom-lofox" href="/admin/publish/article">写博文</a>','<a class="btn btn-default custom-lofox" href="/admin/publish/share">发分享</a>','<a class="btn btn-default custom-lofox" href="/admin/publish/labs">实验室</a>','<a class="btn btn-default custom-lofox" href="/admin/publish/opus">传作品</a>','<a class="btn btn-default custom-lofox" href="/admin/publish/friends">加友链</a>',"</div>","</div>",'<div class="list-group">','<a class="list-group-item" href="/ajax/clear_cache?type=all"  data-action-ajax="清除缓存成功" >清除<strong>所有</strong>缓存</a>','<a class="list-group-item" href="/ajax/clear_cache?type=chip" data-action-ajax="清除缓存成功" >清除片段缓存</a>','<a class="list-group-item" href="/ajax/clear_cache?type=ajax" data-action-ajax="清除缓存成功" >清除ajax缓存</a>','<a class="list-group-item" href="/ajax/clear_cache?type=html" data-action-ajax="清除缓存成功" >清除页面缓存</a>',"</div>","</div>"].join("");a.index=b}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a,b,c){$.ajax({url:"/ajax/blog",type:"GET",data:{act:"get_list",skip:a,limit:b},success:function(a){for(var b in a.list)a.list[b].time_show=parse.time(a.list[b].time_show,"{y}-{m}-{d}");c(null,a)}})}function d(a){var d=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/article" class="btn btn-primary btn-sm custom-lofox" role="button">发博客</a><br/>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>标题</th><th>发布时间</th><th>操作</th></tr>"].join(""),f=8;c(0,f,function(g,h){if(g)return void console.log("error");d+=b(e,h.list),d+="</table></div></div>",d+='<div class="page col-md-12"></div>',a.html(d);var i=admin.pageList(a.find(".page"),{list_count:h.count,page_cur:0,page_list_num:f});i.jump=function(d){c((d-1)*f,f,function(c,d){if(c)return void console.log("error");var f=b(e,d.list);a.find("tr").eq(0).siblings().remove(),a.find(".table").append(f)})}})}var e=["<tr>",'<td><a title="查看博文" href="/blog/{id}" target="_blank">{title}</a></td>',"<td>{time_show}</td>","<td>",'<a class="btn btn-default btn-xs custom-lofox" title="修改" href="/admin/publish/article/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=blog&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.article=function(a){d(a)}}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a,b,c){$.ajax({url:"/ajax/share",type:"GET",data:{act:"get_list",skip:a,limit:b},success:function(a){for(var b in a.list)a.list[b].time_show=parse.time(a.list[b].time_show,"{y}-{m}-{d}");c(null,a)}})}function d(a){var d=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/share" class="btn btn-primary btn-sm custom-lofox" role="button">发分享</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>标题</th><th>发布时间</th><th>操作</th></tr>"].join(""),f=10;c(0,f,function(g,h){if(g)return void console.log("error");d+=b(e,h.list),d+="</table></div></div>",d+='<div class="page col-md-12"></div>',a.html(d);var i=admin.pageList(a.find(".page"),{list_count:h.count,page_cur:0,page_list_num:f});i.jump=function(d){c((d-1)*f,f,function(c,d){if(c)return void console.log("error");var f=b(e,d.list);a.find("tr").eq(0).siblings().remove(),a.find(".table").append(f)})}})}var e=["<tr>",'<td class="arLiTitle"><a title="查看分享" href="/share/{id}" target="_blank">{title}</a></td>','<td class="arLiTime">{time_show}</td>','<td class="arLiEdit">','<a class="btn btn-default btn-xs custom-lofox" title="修改" href="/admin/publish/share/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=share&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.share=function(a){d(a)}}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a,b,c){$.ajax({url:"/ajax/opus",type:"GET",data:{act:"get_list",skip:a,limit:b},success:function(a){for(var b in a.list)a.list[b].time_show=parse.time(a.list[b].opus_time_create,"{y}-{m}-{d}");c(null,a)}})}function d(a){var d=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/opus" class="btn btn-primary btn-sm custom-lofox" role="button">发作品</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>标题</th><th>发布时间</th><th>操作</th></tr>"].join(""),f=10;c(0,f,function(g,h){if(g)return void console.log("error");d+=b(e,h.list),d+="</table></div></div>",d+='<div class="page col-md-12"></div>',a.html(d);var i=admin.pageList(a.find(".page"),{list_count:h.count,page_cur:0,page_list_num:f});i.jump=function(d){c((d-1)*f,f,function(c,d){if(c)return void console.log("error");var f=b(e,d.list);a.find("tr").eq(0).siblings().remove(),a.find(".table").append(f)})}})}var e=["<tr>",'<td class="arLiTitle"><a title="查看作品" href="/share/{id}" target="_blank">{title}</a></td>','<td class="arLiTime">{time_show}</td>','<td class="arLiEdit">','<a class="btn btn-default btn-xs custom-lofox" title="修改" href="/admin/publish/opus/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=opus&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.opus=d}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a,b,c){$.ajax({url:"/ajax/labs",type:"GET",data:{act:"get_list",skip:a,limit:b},success:function(a){for(var b in a.list)a.list[b].time_show=parse.time(a.list[b].time_create,"{y}-{m}-{d}");c(null,a)}})}function d(a){var d=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/labs" class="btn btn-primary btn-sm custom-lofox" role="button">发插件</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>标题</th><th>发布时间</th><th>操作</th></tr>"].join(""),f=8;c(0,f,function(g,h){if(g)return void console.log("error");d+=b(e,h.list),d+="</table></div></div>",d+='<div class="page col-md-12"></div>',a.html(d);var i=admin.pageList(a.find(".page"),{list_count:h.count,page_cur:0,page_list_num:f});i.jump=function(d){c((d-1)*f,f,function(c,d){if(c)return void console.log("error");var f=b(e,d.list);a.find("tr").eq(0).siblings().remove(),a.find(".table").append(f)})}})}var e=["<tr>",'<td class="arLiTitle"><a title="查看博文" href="/labs/{name}" target="_blank">{title}</a></td>','<td class="arLiTime">{time_show}</td>','<td class="arLiEdit">','<a class="btn btn-default btn-xs custom-lofox" title="修改" href="/admin/publish/labs/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=labs&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.labs=function(a){d(a)}}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a,b,c){$.ajax({url:"/ajax/friends",type:"GET",data:{act:"get_list",skip:a,limit:b},success:function(a){for(var b in a.list)a.list[b].time_create=parse.time(a.list[b].time_create,"{y}-{m}-{d}");c(null,a)}})}function d(a){var d=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/opus" class="btn btn-primary btn-sm custom-lofox" role="button">发作品</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>标题</th><th>发布时间</th><th>操作</th></tr>"].join(""),f=8;c(0,f,function(g,h){if(g)return void console.log("error");d+=b(e,h.list),d+="</table></div></div>",d+='<div class="page col-md-12"></div>',a.html(d);var i=admin.pageList(a.find(".page"),{list_count:h.count,page_cur:0,page_list_num:f});i.jump=function(d){c((d-1)*f,f,function(c,d){if(c)return void console.log("error");var f=b(e,d.list);a.find("table").html(f)})}})}var e=["<tr>",'<td class="arLiTitle" title="{title}{url}">{title}</td>','<td class="arLiTitle" title="添加时间">{time_create}</td>','<td class="arLiEdit">','<a class="btn btn-default btn-xs custom-lofox" title="修改" href="/admin/publish/friends/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=blog_friend&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.friends=function(a){d(a)}}(window.admin.render),function(a){function b(a){a.html(c)}var c=['<div class="navItem">',"</div>"].join("");a.userIndex=b}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a){$.ajax({url:"/ajax/user/list",success:function(c){var e=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/user" class="btn btn-primary btn-sm custom-lofox" role="button">增加用户</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover">',"<tr><th>标题</th><th>邮箱</th><th>用户组</th><th>操作</th></tr>"].join("");e+=b(d,c.list),e+="</table></div></div>",a.html(e)},error:function(){a.html("error")}})}var d=["<tr>","<td>{username}</td>","<td>{email}</td>","<td>{user_group}</td>","<td>",'<a class="btn btn-default btn-xs custom-lofox" href="/admin/publish/user/{id}" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=user&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.userList=c}(window.admin.render),function(a){function b(a,b){var c="";for(var d=0 in b)c+=a.replace(/{(\w*)}/g,function(){var a=arguments[1];return b[d][a]||""});return c}function c(a){$.ajax({url:"/ajax/power",data:{act:"get_list",limit:60},success:function(c){var e=['<div class="col-md-12 custom-mb10">','<a href="/admin/publish/power" class="btn btn-primary btn-sm custom-lofox" role="button">加权限</a>',"</div>",'<div class="col-md-12">','<div class="panel panel-default">','<table class="table table-hover custom-listTable">',"<tr><th>#</th><th>权限名</th><th>权限描述</th><th>操作</th></tr>"].join("");e+=b(d,c.list),e+="</table></div></div>",a.html(e)},error:function(){a.html("error")}})}var d=["<tr>","<td>{id}</td>","<td>{name}</td>","<td>{discription}</td>","<td>",'<a class="btn btn-default btn-xs custom-lofox" href="/admin/publish/power/{id}" class="custom-lofox" target="_self"><span class="glyphicon glyphicon-edit"></span></a>','<a class="btn btn-default btn-xs" title="删除" href="/ajax/del?from=power&id={id}" data-item-selector="tr" data-action-del="三思啊，删了可就没啦！"><span class="glyphicon glyphicon-remove"></span></a>',"</td>","</tr>"].join("");a.powerList=c}(window.admin.render);