/*! bh-lay.com 2014-06-17 */
window.util=window.util||{},window.util.toucher=window.util.toucher||function(a){return new window.util.toucher.init(a)},function(a){function b(a,b){for(var a=a||"",c=a.split(/\s/g),d=0,e=c.length;e>d;d++)if(c[d]==b)return!0}function c(a,b,c){this._events=this._events||{};var d,e;return"string"==typeof b?(d=b.replace(/^\./,""),e=c):(d=null,e=b),a.length>0&&"function"==typeof e&&(this._events[a]||(this._events[a]=[]),this._events[a].push({className:d,fn:e})),this}function d(a,c){if(this._events=this._events||{},this._events[a])for(var d=this._events[a],f=c.target;;){var g=d;d=[];for(var h=0,i=g.length;i>h;h++){var j=g[h].className,k=g[h].fn;if(b(f.className,j)){if(0==e(a,k,f,c))return}else d.push(g[h])}if(f=f.parentNode,0==d.length)return;if(f==this.dom||!f){for(var h=0,i=d.length;i>h;h++){var j=d[h].className,k=d[h].fn;null==j&&e(a,k,f,c)}return}}}function e(a,b,c,d){var e=d.touches.length?d.touches[0]:{},f={type:a,pageX:e.clientX||0,pageY:e.clientY||0};return"swipe"==a&&d.startPosition&&(f.startX=d.startPosition.pageX,f.startY=d.startPosition.pageY,f.moveX=f.pageX-f.startX,f.moveY=f.pageY-f.startY),b.call(c,f)}function f(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function g(a){function b(){q=!1,clearTimeout(m),clearTimeout(l)}function c(a){r=a,h=a.touches[0].pageX,i=a.touches[0].pageY,j=0,k=0,q=!0,o=new Date,d.call(n,"swipeStart",a),clearTimeout(m),m=setTimeout(function(){b(a),d.call(n,"longTap",a)},500)}function e(a){if(d.call(n,"swipeEnd",r),q){var c=new Date;c-p>260?l=setTimeout(function(){b(),d.call(n,"singleTap",r)},250):(clearTimeout(l),b(a),d.call(n,"doubleTap",r)),p=c}}function g(a){if(r=a,a.startPosition={pageX:h,pageY:i},d.call(n,"swipe",a),q){if(j=a.touches[0].pageX,k=a.touches[0].pageY,Math.abs(h-j)>2||Math.abs(i-k)>2){var c=f(h,j,i,k);d.call(n,"swipe"+c,a)}else b(a),d.call(n,"singleTap",a);b(a),n.preventDefault&&(a.preventDefault(),a.stopPropagation())}}var h,i,j,k,l,m,n=this,o=0,p=0,q=!1,r=null;a.addEventListener("touchstart",c),a.addEventListener("MSPointerDown",c),a.addEventListener("pointerdown",c),a.addEventListener("touchend",e),a.addEventListener("MSPointerUp",e),a.addEventListener("pointerup",e),a.addEventListener("touchmove",g),a.addEventListener("MSPointerMove",g),a.addEventListener("pointermove",g),a.addEventListener("touchcancel",b),a.addEventListener("MSPointerCancel",b),a.addEventListener("pointercancel",b)}function h(a,b){var b=b||{};this.dom=a,this.preventDefault="boolean"==typeof b.preventDefaul?b.preventDefault:!1,g.call(this,this.dom)}h.prototype.on=c,a.init=h}(util.toucher),window.define&&define(function(){return window.util.toucher});