/*! bh-lay.com 2014-06-17 */
window.util=window.util||{},window.util.toucher=window.util.toucher||function(a){return new window.util.toucher.init(a)},function(a){function b(a,b){var c,d,e;for(a=a||"",c=a.split(/\s/g),d=0,e=c.length;e>d;d++)if(c[d]==b)return!0}function c(a,b,c){this._events=this._events||{};var d,e;return"string"==typeof b?(d=b.replace(/^\./,""),e=c):(d=null,e=b),a.length>0&&"function"==typeof e&&(this._events[a]||(this._events[a]=[]),this._events[a].push({className:d,fn:e})),this}function d(a,c){var d,e,f,g,h,i,j;if(this._events=this._events||{},this._events[a])for(d=this._events[a],e=c.target;;){for(f=d,d=[],g=0,h=f.length;h>g;g++)if(i=f[g].className,j=f[g].fn,b(e.className,i)){if(0==j.call(e,c))return}else d.push(f[g]);if(e=e.parentNode,0==d.length)return;if(e==this.dom||!e){for(g=0,h=d.length;h>g;g++)i=d[g].className,j=d[g].fn,null==i&&j.call(e,c);return}}}function e(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function f(a){function b(){q=!1,clearTimeout(m),clearTimeout(l)}function c(a){h=a.touches[0].pageX,i=a.touches[0].pageY,j=0,k=0,q=!0,o=new Date,clearTimeout(m),m=setTimeout(function(){b(),d.call(n,"longTap",a)},500)}function f(a){if(q){var c=new Date;c-p>260?l=setTimeout(function(){b(),d.call(n,"singleTap",a)},250):(clearTimeout(l),b(),d.call(n,"doubleTap",a)),p=c}}function g(a){if(d.call(n,"swipe",a),q){if(j=a.touches[0].pageX,k=a.touches[0].pageY,Math.abs(h-j)>2||Math.abs(i-k)>2){var c=e(h,j,i,k);d.call(n,"swipe"+c,a)}else b(),d.call(n,"singleTap",a);b(),a.preventDefault(),a.stopPropagation()}}var h,i,j,k,l,m,n=this,o=0,p=0,q=!1;a.addEventListener("touchstart",c),a.addEventListener("MSPointerDown",c),a.addEventListener("pointerdown",c),a.addEventListener("touchend",f),a.addEventListener("MSPointerUp",f),a.addEventListener("pointerup",f),a.addEventListener("touchmove",g),a.addEventListener("MSPointerMove",g),a.addEventListener("pointermove",g),a.addEventListener("touchcancel",b),a.addEventListener("MSPointerCancel",b),a.addEventListener("pointercancel",b)}function g(a){this.dom=a,f.call(this,this.dom)}g.prototype.on=c,a.init=g}(util.toucher),window.define&&define(function(){return window.util.toucher});